<app-header></app-header>
<section class="container mx-auto px-6 py-8 space-y-10">
  <div>
    <div class="flex items-end justify-between gap-4">
      <div>
        <h2 class="text-xl font-semibold text-slate-800">Livros</h2>
        <p class="text-slate-500 text-sm">
          Do ‚Äúj√° li‚Äù ao ‚Äúquero ler‚Äù: tudo aqui.
        </p>
      </div>
    </div>

    <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      @for(l of livros; track $index) {
      <article
        class="rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden flex flex-col"
      >
        <div class="p-4 flex gap-4">
          <div
            class="w-12 h-12 rounded-xl bg-gradient-to-br from-fuchsia-600 to-violet-600 text-white grid place-items-center font-semibold flex-shrink-0"
          >
            {{ l.titulo || "?" | slice : 0 : 1 | uppercase }}
          </div>

          <div class="min-w-0 flex-1">
            <div class="flex items-start justify-between gap-2">
              <h3
                class="text-slate-800 font-semibold leading-tight line-clamp-2"
              >
                {{ l.titulo }}
              </h3>

              <span
                class="text-xs px-2 py-1 rounded-full border whitespace-nowrap"
                [ngClass]="{
                  'bg-emerald-50 text-emerald-700 border-emerald-200':
                    l.status === 'lido',
                  'bg-amber-50 text-amber-700 border-amber-200':
                    l.status === 'lendo',
                  'bg-fuchsia-50 text-fuchsia-700 border-fuchsia-200':
                    l.status === 'desejo',
                  'bg-sky-50 text-sky-700 border-sky-200':
                    l.status === 'faltando'
                }"
              >
                {{
                  l.status === "lido"
                    ? "Lido"
                    : l.status === "lendo"
                    ? "Lendo"
                    : l.status === "desejo"
                    ? "Desejo"
                    : "Faltando"
                }}
              </span>
            </div>

            <p class="text-slate-500 text-sm truncate">
              {{ l.autorId | autor }}
            </p>
            <p class="text-slate-500 text-sm truncate">
              {{ l.categoriaId | categoria }}
            </p>

            <ul
              class="mt-2 text-xs text-slate-500 flex flex-wrap gap-x-4 gap-y-1"
            >
              @if (l.paginas) {
              <li>üìÑ {{ l.paginas }} p√°g.</li>
              } @if(l.ano) {
              <li>üóì {{ l.ano }}</li>
              } @if(l.anoFim) {
              <li>‚úÖ {{ l.anoFim }}</li>
              }
            </ul>
          </div>
        </div>

        <div class="px-4 pb-4">
          <p class="text-[13px] text-slate-600 line-clamp-2">
            {{ l.descricao || "Sem descri√ß√£o." }}
          </p>

          <div class="mt-3 flex flex-wrap gap-2">
            <a
              [routerLink]="['/livros', l.id]"
              class="px-3 py-1.5 rounded-lg bg-fuchsia-600 text-white text-sm hover:bg-fuchsia-700"
              >Ver detalhes</a
            >

            <a
              class="px-3 py-1.5 rounded-lg border border-slate-300 text-slate-700 text-sm hover:bg-slate-50"
              >Remover</a
            >
          </div>
        </div>
      </article>
      }
    </div>
  </div>
</section>
