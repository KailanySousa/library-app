<!-- Bloco colapsável: adicionar novo capítulo -->
<div
  id="novo-capitulo-panel"
  class="group rounded-2xl border border-slate-200 bg-white shadow-sm mt-1"
>
  <div
    class="flex cursor-pointer select-none items-center justify-between gap-3 px-4 py-3"
  >
    <span class="text-slate-700 font-medium">Adicionar novo capítulo</span>
  </div>

  <div class="px-4 pb-4">
    <form
      [formGroup]="formAdicionar"
      (submit)="adicionar()"
      class="flex flex-col gap-3"
    >
      <!-- Título -->
      <div>
        <input
          formControlName="nome"
          type="text"
          class="w-full rounded-xl border border-slate-300 px-3 py-2 text-sm text-slate-800 placeholder-slate-400 focus:border-fuchsia-500 focus:outline-none focus:ring-2 focus:ring-fuchsia-200"
          placeholder="Nome"
          required
        />
      </div>

      <!-- Concluído -->
      <div class="flex justify-between items-center">
        <label
          class="inline-flex items-center gap-2 cursor-pointer select-none"
        >
          <input
            formControlName="concluido"
            class="peer sr-only"
            type="checkbox"
            aria-label="Marcar capítulo como concluído"
          />
          <span
            class="h-5 w-5 rounded-full border border-slate-300 grid place-items-center transition peer-checked:bg-emerald-600 peer-checked:border-emerald-600"
            aria-hidden="true"
          >
            <svg
              class="h-3.5 w-3.5 text-white opacity-0 transition-opacity duration-150 peer-checked:opacity-100"
              viewBox="0 0 20 20"
              fill="currentColor"
              aria-hidden="true"
            >
              <path
                fill-rule="evenodd"
                d="M16.704 5.29a1 1 0 010 1.414l-7.2 7.2a1 1 0 01-1.414 0l-3.2-3.2a1 1 0 111.414-1.414l2.493 2.493 6.493-6.493a1 1 0 011.414 0z"
                clip-rule="evenodd"
              />
            </svg>
          </span>
          <span class="text-xs text-slate-600">Marcar como concluído</span>
        </label>
        <!-- Ações: ícones (cancelar/criar) -->
        <div class="flex gap-2">
          <button
            (click)="resetForm()"
            type="button"
            class="inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-700 shadow-sm hover:bg-slate-50"
          >
            <svg
              class="h-4 w-4"
              viewBox="0 0 24 24"
              fill="none"
              aria-hidden="true"
            >
              <path
                d="M6 6l12 12M18 6L6 18"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
              />
            </svg>
          </button>

          <button
            type="submit"
            class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-fuchsia-600 text-white shadow hover:bg-fuchsia-700 focus:outline-none focus:ring-2 focus:ring-fuchsia-200"
          >
            <svg
              class="h-4 w-4"
              viewBox="0 0 24 24"
              fill="none"
              aria-hidden="true"
            >
              <path
                d="M5 12.5l5 5 9-11"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
